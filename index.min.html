<!DOCTYPE html><html lang="en" xmlns="http://www.w3.org/1999/html" manifest="/colorGrid/manifest.appcache"><head><title>Experiment with Color</title><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" /><meta name="mobile-web-app-capable" content="yes" /><meta name="apple-mobile-web-app-capable" content="yes" /><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" /><style type="text/css">body {margin:0;}table {height:100%;position:fixed;width:100%}td{background: #7F7F7F;height:4%;padding:0;-moz-transition:all .15s linear;-o-transition:all .15s linear;-webkit-transition:all .15s linear;transition:all .15s linear;width: 4%}</style></head><body><script type="text/javascript">!function(){"use strict";var t=[],a=5,n=["up","left","right"],r={x:20,y:20},o=document.body,e=0,d=200,l=150,h=2*a+1,c=2*d+1,g=function(t,a,n,r){r=r||!1,t.addEventListener?t.addEventListener(a,n,r):t.attachEvent?t.attachEvent("on"+a,n):t["on"+a]=n},M=function(a){var n,r,o;a=a||window.event,n=a.target?a.target:a.srcElement,r=n.dataset.x,o=n.dataset.y,t[o][r].r=t[o][r].r+Math.floor(Math.random()*c)-d,t[o][r].g=t[o][r].g+Math.floor(Math.random()*c)-d,t[o][r].b=t[o][r].b+Math.floor(Math.random()*c)-d,n.style.backgroundColor="rgb("+t[o][r].r+","+t[o][r].g+","+t[o][r].b+")"},f=function(){var a,n=document.createElement("table"),e=document.createElement("tbody"),d=0,l=0,h=function(a,n){var o;for(a;a<r.x;a+=1)o=document.createElement("td"),o.dataset.x=a,o.dataset.y=d,n.appendChild(o),t[d][a]={node:o,r:127,g:127,b:127}};for(n.cellSpacing="0",n.appendChild(e),d;d<r.y;d+=1)a=document.createElement("tr"),t[d]=[],h(l,a),e.appendChild(a);o.appendChild(n),g(n,"click",M)},i=function(){var r=0,o=0,l=function(t,r){var o,l={r:t.r,g:t.g,b:t.b},g=1;for(o in r)r[o]&&-1!==n.indexOf(o)&&(g+=1,l.r+=r[o].r,l.g+=r[o].g,l.b+=r[o].b);l.r=l.r/g,l.g=l.g/g,l.b=l.b/g,e&&100*Math.random()<e?(l.r+=Math.floor(Math.random()*c)-d,l.g+=Math.floor(Math.random()*c)-d,l.b+=Math.floor(Math.random()*c)-d):(l.r+=Math.floor(Math.random()*h)-a,l.g+=Math.floor(Math.random()*h)-a,l.b+=Math.floor(Math.random()*h)-a),t.r=Math.max(Math.min(Math.round(l.r),255),0),t.g=Math.max(Math.min(Math.round(l.g),255),0),t.b=Math.max(Math.min(Math.round(l.b),255),0),t.node.style.backgroundColor="rgb("+t.r+","+t.g+","+t.b+")"},g=function(a,n){var r={};for(n;n<t[a].length;n+=1)r.up=a?t[a-1][n]:null,r.down=a<t.length-1?t[a+1][n]:null,r.left=n?t[a][n-1]:null,r.right=n<t[a].length-1?t[a][n+1]:null,l(t[a][n],r)};for(r;r<t.length;r+=1)g(r,o)};f(),setInterval(function(){i()},l)}();</script></body></html>
